"use strict";(()=>{var e={};e.id=2,e.ids=[2],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},6005:e=>{e.exports=require("node:crypto")},12541:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>w,requestAsyncStorage:()=>x,routeModule:()=>h,serverHooks:()=>R,staticGenerationAsyncStorage:()=>v});var s={};t.r(s),t.d(s,{POST:()=>g});var a=t(49303),n=t(88716),i=t(60670),o=t(87070),u=t(9487),p=t(98691),d=t(38547),c=t(91585),l=t(26033);let m=c.Ry({name:c.Z_().min(2),email:c.Z_().email(),password:c.Z_().min(6)});async function g(e){try{let r=await e.json(),{name:t,email:s,password:a}=m.parse(r),n=await (0,u.V)();if(await n.prepare("SELECT id FROM users WHERE email = ?").bind(s).first())return o.NextResponse.json({message:"User already exists"},{status:409});let i=await p.ZP.hash(a,10),c=(0,d.Z)();return await n.prepare("INSERT INTO users (id, name, email, password) VALUES (?, ?, ?, ?)").bind(c,t,s,i).run(),o.NextResponse.json({message:"User created successfully"},{status:201})}catch(e){if(console.error("Registration error:",e),e instanceof l.jm)return o.NextResponse.json({message:"Invalid input",errors:e.errors},{status:400});return o.NextResponse.json({message:"Internal server error"},{status:500})}}let h=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"C:\\Users\\kpsin\\OneDrive\\Documents\\proactive\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:v,serverHooks:R}=h,f="/api/auth/register/route";function w(){return(0,i.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:v})}},9487:(e,r,t)=>{t.d(r,{V:()=>a});var s=t(99190);async function a(){let{env:e}=await (0,s.z5)();return e.DB}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,402,159,691],()=>t(12541));module.exports=s})();